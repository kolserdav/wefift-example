"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MediaRecorder = void 0;
const webm_1 = require("./writer/webm");
class MediaRecorder {
    constructor(tracks, path, options = {}) {
        this.tracks = tracks;
        this.path = path;
        this.options = options;
        this.ext = path.split(".").slice(-1)[0];
        this.writer = (() => {
            switch (this.ext) {
                case "webm":
                    return new webm_1.WebmFactory(path, options);
                default:
                    throw new Error();
            }
        })();
    }
    addTrack(track) {
        this.tracks.push(track);
    }
    start() {
        this.writer.start(this.tracks);
    }
    async stop() {
        await this.writer.stop();
    }
}
exports.MediaRecorder = MediaRecorder;
//# sourceMappingURL=index.js.map